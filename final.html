<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OWCS - Overwatch Champions Series</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        :root {
    /* Light theme variables */
            --background-color: #ffffff;
            --text-color: #000000;
            --card-background: #ffffff;
            --card-border: #ccc;
            --modal-background: #ffffff;
            --button-background: #f76700;
            --button-text: #ffffff;
            --nav-background: #f76700;
        }

        [data-theme="dark"] {
    /* Dark theme variables */
            --background-color: #1a1a1a;
            --text-color: #ffffff;
            --card-background: #2d2d2d;
            --card-border: #404040;
            --modal-background: #2d2d2d;
            --button-background: #f76700;
            --button-text: #ffffff;
            --nav-background: #2d2d2d;
        }

        
        /* Language Selection Modal */
        .language-modal, .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
        }

        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        
        .modal-content select {
            width: 100%;
            padding: 0.5rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }

        .modal-content button {
            padding: 0.5rem 1rem;
            background-color: #f76700;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }

        .modal-content {
            background-color: var(--modal-background);
            color: var(--text-color);
        }

        .modal-content button:hover {
            background-color: #d55600;
        }

        .help-content {
            margin: 1rem 0;
        }

        .help-content p {
            margin: 0.5rem 0;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }
        
        /* Region Navigation */
        .region-nav {
            background-color: #f76700;
            padding: 1rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }

        .region-btn {
            padding: 0.5rem 2rem;
            border: none;
            background-color: white;
            cursor: pointer;
            border-radius: 4px;
        }

        /* Search Bar */
        .search-container {
            padding: 1rem;
            text-align: center;
        }

        .search-bar {
            width: 300px;
            padding: 0.5rem;
            border-radius: 4px;
        }

        /* Team Grid */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
        }

        .team-card {
            background-color: var(--card-background);
            border-color: var(--card-border);
        }

        .team-card {
            border: 1px solid #ccc;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
        }

        .team-logo {
            width: 100px;
            height: auto;
        }

        /* Player Profile */
        .player-profile {
            display: none;
            padding: 2rem;
        }

        .player-info {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }

        .flag-container {
            width: 32px;
            height: 24px;
            display: inline-block;
            vertical-align: middle;
        }

        /* Help Tooltips */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip-text {
            display: none;
            position: absolute;
            background-color: black;
            color: white;
            padding: 0.5rem;
            border-radius: 4px;
            z-index: 1;
        }

        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 999;
        }

        .language-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #f76700;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .language-btn:hover {
            background-color: #d55600;
        }

        .language-icon {
            font-size: 16px;
        }

        .top-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 999;
            display: flex;
            gap: 10px;
        }

        .theme-btn, .language-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: var(--button-background);
            color: var(--button-text);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .theme-btn:hover, .language-btn:hover {
            background-color: #d55600;
        }

        .player-card {
            background-color: var(--card-background);
            border-color: var(--card-border);
        }

        .region-nav {
            background-color: var(--nav-background);
        }

        .search-bar {
            background-color: var(--card-background);
            color: var(--text-color);
            border: 1px solid var(--card-border);
        }

        .player-info-page {
            padding: 2rem;
            background-color: var(--background-color);
        }

        .player-info-header {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .back-btn {
            padding: 0.5rem 1rem;
            background-color: var(--button-background);
            color: var(--button-text);
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .player-info-main {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .player-info-basic {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 2rem;
            background-color: var(--card-background);
            border: 1px solid var(--card-border);
            border-radius: 8px;
        }

        .player-flag-name {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .player-flag-name img {
            width: 32px;
            height: 24px;
            border-radius: 4px;
        }

        .player-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            padding: 1rem;
            background-color: var(--card-background);
            border: 1px solid var(--card-border);
            border-radius: 8px;
        }

        @media (min-width: 768px) {
            .player-info-main {
                grid-template-columns: 1fr 2fr;
            }
        }


.site-header {
    background-color: var(--nav-background);
    padding: 1rem 2rem;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo-container {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.site-logo {
    height: 40px;
    width: auto;
}

.logo-container h1 {
    color: var(--button-text);
    font-size: 1.5rem;
    font-weight: bold;
}

.main-nav {
    background-color: var(--nav-background);
    padding: 1rem 2rem;
}

.nav-links {
    display: flex;
    gap: 2rem;
    justify-content: center;
}

.nav-link {
    color: var(--button-text);
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    transition: background-color 0.3s;
}

.nav-link:hover, 
.nav-link.active {
    background-color: rgba(255, 255, 255, 0.1);
}

.page-section {
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.fixed-nav-container {
    position: sticky;
    top: 0;
    z-index: 100;
    background-color: var(--background-color);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.region-nav {
    background-color: var(--nav-background);
    padding: 1rem;
    display: flex;
    justify-content: center;
    gap: 2rem;
}

.search-container {
    padding: 1rem;
    text-align: center;
    background-color: var(--background-color);
}

.team-grid {
    padding-top: 2rem;
}

    </style>

</head>
<body>
   
   <header class="site-header">
    <div class="header-content">
        <div class="logo-container">
            <img src="https://assets.faceit-cdn.net/organizer_avatar/abd401de-e6ec-4ef1-8d4b-3d820f8f62ce_1706791889706.jpg" class="site-logo">
            <h1>Overwatch Esports</h1>
        </div>
        <nav class="main-nav">
    </div>
</header>
   
<nav class="main-nav">
    <div class="nav-links">
        <a href="#home" class="nav-link active">Home</a>
        <a href="#about" class="nav-link">About</a>
        <a href="#stats" class="nav-link">Statistics</a>
    </div>
</nav>

<div class="fixed-nav-container">
<!-- Region Navigation -->
    <nav class="region-nav">
        <button class="region-btn active" data-region="na">NA</button>
        <button class="region-btn" data-region="eu">EU</button>
        <button class="region-btn" data-region="cn">China</button>
        <button class="region-btn" data-region="asia">Asia</button>
    </nav>

<!-- Search Bar -->
    <div class="search-container">
        <input type="text" class="search-bar" placeholder="Search teams or players...">
    </div>


<!-- Home Page (your existing content) -->
<div id="home" class="page-section">
    <nav class="region-nav">
        <!-- Existing region buttons -->
    </nav>
    <div class="search-container">
        <!-- Existing search bar -->
    </div>
    <div class="team-grid" id="teamGrid">
        <!-- Teams populated by JavaScript -->
    </div>
</div>

<!-- About Page -->
<div id="about" class="page-section" style="display: none;">
    <h2>About OWCS:</h2>
    <p>The Overwatch Champions Series (OWCS) is the professional esports circuit for blizzards PVP game Overwatch 2, featuring top teams from around the world.</p>
    <p>This site showcases the current top teams and players from each region while providing an engaging experience for users.</p>
</div>

<!-- Statistics Page -->
<div id="stats" class="page-section" style="display: none;">
    <h2>Most known hero picks</h2>
    <div class="stats-container">
        <canvas id="heroPickRateChart"></canvas>
    </div>
</div>


<!-- Language Selection Modal -->
    <div class="language-modal" id="languageModal">
        <div class="modal-content">
            <h2>Select Your Language</h2>
            <select id="languageSelect">
                <option value="en">English</option>
                <option value="es">Español</option>
                <option value="kr">한국어</option>
                <option value="cn">中文</option>
            </select>
            <button onclick="hideLanguageModal()">Confirm</button>
        </div>
    </div>

<!-- Help Modal -->
    <div class="help-modal" id="helpModal">
        <div class="modal-content">
            <h2>Welcome to OWCS</h2>
            <div class="help-content">
                <p>→ Use region buttons to switch between regions</p>
                <p>→ Search for players or teams using the search bar</p>
                <p>→ Click on teams to view their roster</p>
                <p>→ Click on players to view detailed profiles</p>
            </div>
            <button onclick="closeHelp()">Got it!</button>
        </div>
    </div>

<!-- Region Navigation -->
    <nav class="region-nav">
        <button class="region-btn active" data-region="na">NA</button>
        <button class="region-btn" data-region="eu">EU</button>
        <button class="region-btn" data-region="cn">China</button>
        <button class="region-btn" data-region="asia">Asia</button>
    </nav>

<!-- Theme -->
<div class="top-controls">
    <button class="theme-btn" onclick="toggleTheme()">
        <span class="themeIcon">☀️/🌙</span>
    </button>
    <button class="language-btn" onclick="showLanguageModal()">
        <span id="currentLanguageDisplay">EN</span>
        <span class="language-icon">🌐</span>
    </button>
</div>



<!-- Search Bar -->
    <div class="search-container">
        <input type="text" class="search-bar" placeholder="Search teams or players...">
    </div>


<!-- Team Grid (Second Page) -->
<div class="team-grid" id="teamGrid">
    <!-- Teams populated by JavaScript -->
</div>
<div class="player-list" id="playerList" style="display: none;">
    <h2 id="teamNameHeader"></h2>
    <div class="players-container" id="playersContainer">
        <!-- Players populated by JavaScript -->
    </div>
    <button onclick="backToTeams()">Back to Teams</button>
</div>


<div class="player-info-page" id="playerInfoPage" style="display: none;">
    <div class="player-info-header">
        <button onclick="backToRoster()" class="back-btn">Back to Roster</button>
        <h2 id="playerInfoName"></h2>
    </div>
    <div class="player-info-content">
        <div class="player-info-main">
            <div class="player-info-basic">
                <div class="player-flag-name"></div>
                <div class="player-details"></div>
            </div>
            <div class="player-stats">
                <h3>Heros</h3>
                <div class="stats-grid"></div>
            </div>
        </div>
    </div>
</div>

<script>
// Modal control functions
let isFirstVisit = !localStorage.getItem('hasVisited');

function showLanguageModal() {
    document.getElementById('languageModal').style.display = 'block';
}

function hideLanguageModal() {
    document.getElementById('languageModal').style.display = 'none';
}

function showHelp() {
    document.getElementById('helpModal').style.display = 'block';
}

function closeHelp() {
    document.getElementById('helpModal').style.display = 'none';
}

// Team and Player Data
const teamsData = {
    na: [
        {
            id: 'ntmr',
            name: 'NTMR',
            logo: 'https://cdn.escharts.com/uploads/public/67c/719/2ca/67c7192ca8b03696712226.png',
            players: [
                { name: 'Kronik', role: 'DPS', country: 'US', mostPlayedHeroes: ['widowmaker', 'sombra', 'ashe'] },
                { name: 'Lep', role: 'Support', country: 'US',  mostPlayedHeroes: ['lucio', 'brigitte', 'mercy'] },
                { name: 'Lukemino', role: 'Support', country: 'US',  mostPlayedHeroes: ['baptiste', 'lucio', 'brigitte'] },
                { name: 'Painkiller', role: 'Tank', country: 'US',  mostPlayedHeroes: ['ramattra', 'junker-queen', 'dva'] },
                { name: 'RhynO', role: 'Tank', country: 'US',  mostPlayedHeroes: ['orisa', 'reinhardt', 'wrecking-ball'] },
                { name: 'Rokit', role: 'DPS', country: 'US',  mostPlayedHeroes: ['tracer', 'genji', 'ashe'] },
                // Add more players
            ]
        },
        {
            id: 'gky',
            name: 'Geekay Eports',
            logo: 'https://geekayesports.netlify.app/images/icon.png',
            players: [
                { name: 'Admiral', role: 'Support', country: 'EE', mostPlayedHeroes: ['lucio', 'mercy', 'brigitte'] },
                { name: 'cuFFa', role: 'Tank', country: 'AU', mostPlayedHeroes: ['winston', 'wrecking-ball', 'junker-queen'] },
                { name: 'Lethal', role: 'DPS', country: 'TR', mostPlayedHeroes: ['ashe', 'widowmaker', 'cassidy'] },
                { name: 'UltraViolet', role: 'Support', country: 'US', mostPlayedHeroes: ['baptiste', 'zenyatta', 'ana'] },
                { name: 'WMaimone', role: 'DPS', country: 'GB', mostPlayedHeroes: ['tracer', 'echo', 'sombra'] },
                // Add more players
            ]
        },
        {
            id: 'tl',
            name: 'Team Liquid',
            logo: 'https://cdn.prod.website-files.com/64bf6e8cda9043babe7ca006/65f44ba891716018cf53f17f_Vertical-on-dark.svg',
            players: [
                { name: 'Infekted', role: 'Tank', country: 'US', mostPlayedHeroes: ['reinhardt', 'wrecking-ball', 'winston'] },
                { name: 'KNIFE', role: 'DPS', country: 'KR', mostPlayedHeroes: ['tracer', 'echo', 'sojourn'] },
                { name: 'Rupal', role: 'Support', country: 'US', mostPlayedHeroes: ['baptiste', 'ana', 'kiriko'] },
                { name: 'TR33', role: 'DPS', country: 'US', mostPlayedHeroes: ['sojourn', 'tracer', 'hanzo'] },
                { name: 'Vega', role: 'Support', country: 'US', mostPlayedHeroes: ['lucio', 'brigitte', 'illari'] },
                { name: 'zeruhh', role: 'DPS', country: 'US', mostPlayedHeroes: ['genji', 'tracer', 'reaper'] },
                // Add more players
            ]
        },
        {
            id: 'ssg',
            name: 'Spacestation Gaming',
            logo: 'https://upload.wikimedia.org/wikipedia/commons/6/6e/SSGGOLDBLACKMAINLOGO.png',
            players: [
                { name: 'seeker', role: 'DPS', country: 'CA', mostPlayedHeroes: ['sojourn', 'widowmaker', 'bastion'] },
                { name: 'sugarfree', role: 'DPS', country: 'US', mostPlayedHeroes: ['genji', 'echo', 'tracer'] },
                { name: 'Kellan', role: 'DPS', country: 'KR', mostPlayedHeroes: ['winston', 'reinhardt', 'wrecking-ball'] },
                { name: 'Bliss', role: 'Support', country: 'KR', mostPlayedHeroes: ['lucio', 'brigitte', 'mercy'] },
                { name: 'cjay', role: 'Support', country: 'US', mostPlayedHeroes: ['baptiste', 'zenyatta', 'ana'] },
                // Add more players
            ]
        }
        // Add more NA teams
    ],
    eu: [
        {
            id: 'vp',
            name: 'Virtus.pro',
            logo: 'https://upload.wikimedia.org/wikipedia/en/3/3b/Virtus_pro_logo_new.png',
            players: [
                { name: 'sHockWave', role: 'DPS', country: 'DK', mostPlayedHeroes: ['widowmaker', 'echo', 'ashe'] },
                { name: 'JaeWoo', role: 'DPS', country: 'KR', mostPlayedHeroes: ['tracer', 'echo', 'genji'] },
                { name: 'Vestola', role: 'Tank', country: 'FI', mostPlayedHeroes: ['dva', 'sigma', 'ramattra'] },
                { name: 'eisgnom', role: 'Tank', country: 'DE', mostPlayedHeroes: ['dva', 'doomfist', 'winston'] },
                { name: 'Galaa', role: 'Support', country: 'ES', mostPlayedHeroes: ['illari', 'kiriko', 'lucio'] },
                { name: 'Fixa', role: 'Support', country: 'KR', mostPlayedHeroes: ['brigitte', 'lucio', 'ana'] },
                // Add more players
            ]
        },
        {
            id: 'aq',
            name: 'Al Qadisiah',
            logo: 'https://cdn.escharts.com/uploads/public/66d/dbb/b93/66ddbbb93ce11372440250.png',
            players: [
                { name: 'LBBD7', role: 'DPS', country: 'SA', mostPlayedHeroes: ['pharah', 'echo', 'sojourn'] },
                { name: 'CheckMate', role: 'DPS', country: 'KR', mostPlayedHeroes: ['genji', 'tracer', 'echo'] },
                { name: 'ZIYAD', role: 'Tank', country: 'SA', mostPlayedHeroes: ['dva', 'sigma', 'junker-queen'] },
                { name: 'Landon', role: 'Support', country: 'US', mostPlayedHeroes: ['baptitse', 'kiriko', 'brigitte'] },
                { name: 'Kellex', role: 'Support', country: 'DK', mostPlayedHeroes: ['lucio', 'mercy', 'baptiste'] },
                // Add more players
            ]
        },
        {
            id: 'tu',
            name: 'The Ultimates',
            logo: 'https://storage.ensigame.com/logos/teams/1ee23dc2a44c20ae6ba20e39c0d08b34.png',
            players: [
                { name: 'Kai', role: 'DPS', country: 'GB', mostPlayedHeroes: ['sojourn', 'widowmaker', 'ashe'] },
                { name: 'kevster', role: 'DPS', country: 'SE', mostPlayedHeroes: ['tracer', 'genji', 'widowmaker'] },
                { name: 'HEESUNG', role: 'Tank', country: 'KR', mostPlayedHeroes: ['winston', 'ramattra', 'sigma'] },
                { name: 'Skai', role: 'Support', country: 'RO', mostPlayedHeroes: ['baptiste', 'kiriko', 'ana'] },
                { name: 'Twilight', role: 'Support', country: 'KR', mostPlayedHeroes: ['ana', 'zen', 'baptiste'] },
                // Add more players
            ]
        },
        {
            id: 'tm',
            name: 'Twisted Minds',
            logo: 'https://cdn.escharts.com/uploads/public/63f/cae/e85/63fcaee85d044094297418.png',
            players: [
                { name: 'KSAA', role: 'Tank', country: 'SA', mostPlayedHeroes: ['dva', 'sigma', 'ramattra'] },
                { name: 'Quartz', role: 'DPS', country: 'SA', mostPlayedHeroes: ['widowmaker', 'ashe', 'sojourn'] },
                { name: 'Youbi', role: 'DPS', country: 'SA', mostPlayedHeroes: ['symmetra', 'mei', 'tracer'] },
                { name: 'FunnyAstro', role: 'Support', country: 'GB', mostPlayedHeroes: ['lucio', 'brigitte', 'juno'] },
                { name: 'Simple', role: 'Support', country: 'KR', mostPlayedHeroes: ['ana', 'zenyatta', 'brigitte'] },
                { name: 'Seicoe', role: 'DPS', country: 'AT', mostPlayedHeroes: ['echo', 'mei', 'venture'] },
                // Add more players
            ]
        },
        {
            id: 'gg',
            name: 'Gen.G Esports',
            logo: 'https://upload.wikimedia.org/wikipedia/commons/7/77/Gen.G_Logo.svg',
            players: [
                { name: 'xzodyal', role: 'DPS', country: 'ES', mostPlayedHeroes: ['sojourn', 'cassidy', 'widowmaker'] },
                { name: 'Whoru', role: 'DPS', country: 'KR', mostPlayedHeroes: ['genji', 'tracer', 'pharah'] },
                { name: 'Mag', role: 'Tank', country: 'KR', mostPlayedHeroes: ['reinhardt', 'winston', 'wrecking-ball'] },
                { name: 'crispy', role: 'Support', country: 'GB', mostPlayedHeroes: ['lucio', 'mercy', 'brigitte'] },
                { name: 'Khenail', role: 'Support', country: 'ES', mostPlayedHeroes: ['baptiste', 'zenyatta', 'ana'] },
                // Add more players
            ]
        }
        // Add more EU teams
    ],
    cn: [
        {
            id: 'roc',
            name: 'ROC Esports',
            logo: 'https://storage.ensigame.com/logos/teams/67abb2df4278fd216a9ee9b71311759e.png',
            players: [
                { name: 'Diya', role: 'DPS', country: 'CN', mostPlayedHeroes: ['widowmaker', 'tracer', 'cassidy'] },
                { name: 'Taejong', role: 'DPS', country: 'KR', mostPlayedHeroes: ['tracer', 'widowmaker', 'genji'] },
                { name: 'JinMu', role: 'DPS', country: 'CN', mostPlayedHeroes: ['genji', 'pharah', 'echo'] },
                { name: 'Belosrea', role: 'Tank', country: 'KR', mostPlayedHeroes: ['winston', 'reinhardt', 'wrecking-ball'] },
                { name: 'Lengsa', role: 'Support', country: 'CN', mostPlayedHeroes: ['brigitte', 'lucio', 'baptiste'] },
                { name: 'Chu', role: 'Support', country: 'CN', mostPlayedHeroes: ['zenyatta', 'baptiste', 'ana'] },
                // Add more players
            ]
        },
        {
            id: 'oa',
            name: 'Once Again',
            logo: 'https://i.namu.wiki/i/tQVe4u1jC5DVajSUB0WFA9Mfd9vLaXAdKKS-Ek5XeB1s7cewtMyhAfTLRc-1Q0JXYsc51Ceu1h1yYdmt2JChVA.webp',
            players: [
                { name: 'Leave', role: 'DPS', country: 'CN', mostPlayedHeroes: ['tracer', 'echo', 'hanzo'] },
                { name: 'shy', role: 'DPS', country: 'CN', mostPlayedHeroes: ['widowmaker', 'sojourn', 'ashe'] },
                { name: 'Apr1ta', role: 'DPS', country: 'CN', mostPlayedHeroes: ['tracer', 'ashe', 'cassidy'] },
                { name: 'guxue', role: 'Tank', country: 'CN', mostPlayedHeroes: ['winston', 'reinhardt', 'doomfist'] },
                { name: 'LiGe', role: 'Tank', country: 'CN', mostPlayedHeroes: ['sigma', 'dva', 'zarya'] },
                { name: 'Mew', role: 'Support', country: 'CN', mostPlayedHeroes: ['mercy', 'brigitte', 'lucio'] },
                { name: 'Mmonk', role: 'Support', country: 'CN', mostPlayedHeroes: ['ana', 'zenyatta', 'baptiste'] },
                // Add more players
            ]
        },
        {
            id: 'tcc',
            name: 'Team CC',
            logo: 'https://upload.wikimedia.org/wikipedia/en/8/8c/Team_CC_logo.png',
            players: [
                { name: 'Kaneki', role: 'DPS', country: 'CN', mostPlayedHeroes: ['kiriko', 'ana', 'pharah'] },
                { name: 'Insane', role: 'DPS', country: 'CN', mostPlayedHeroes: ['cassidy', 'tracer', 'ashe'] },
                { name: 'Pineapple', role: 'DPS', country: 'CN', mostPlayedHeroes: ['tracer', 'kiriko', 'cassidy'] },
                { name: 'GAGA', role: 'Tank', country: 'CN', mostPlayedHeroes: ['wrecking-ball', 'reinhardt', 'winston'] },
                { name: 'HaoYoQian', role: 'Support', country: 'CN', mostPlayedHeroes: ['lucio', 'mercy', 'brigitte'] },
                { name: 'Farway1987', role: 'Support', country: 'CN', mostPlayedHeroes: ['zenyatta', 'ana', 'baptiste'] },
                // Add more players
            ]
        }
        // Add more cn teams
    ],
    asia: [
        {
            id: 'cr',
            name: 'Crazy Raccoon',
            logo: 'https://taiyoro.gg/_next/image?url=https%3A%2F%2Ftaiyoro-prod-media.s3.amazonaws.com%2Fteam_organization%2F4NwyTXWhWS.png&w=3840&q=75',
            players: [
                { name: 'CH0R0NG', role: 'Support', country: 'KR', mostPlayedHeroes: ['lucio', 'brigitte', 'kiriko'] },
                { name: 'HeeSang', role: 'DPS', country: 'KR', mostPlayedHeroes: ['genji', 'tracer', 'echo'] },
                { name: 'Junbin', role: 'Tank', country: 'KR', mostPlayedHeroes: ['wrecking-ball', 'winston', 'orisa'] },
                { name: 'LIP', role: 'DPS', country: 'KR', mostPlayedHeroes: ['sombra', 'sojourn', 'widowmaker'] },
                { name: 'MAX', role: 'Tank', country: 'KR', mostPlayedHeroes: ['sigma', 'dva', 'zarya'] },
                { name: 'Shu', role: 'Support', country: 'KR', mostPlayedHeroes: ['baptiste', 'zenyatta', 'ana'] },
                // Add more players
            ]
        },
        {
            id: 't1',
            name: 'T1',
            logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/f/f9/T1_logo.svg/800px-T1_logo.svg.png',
            players: [
                { name: 'D0NGHAK', role: 'Tank', country: 'KR', mostPlayedHeroes: ['wrecking-ball', 'winston', 'doomfist'] },
                { name: 'Proud', role: 'DPS', country: 'KR', mostPlayedHeroes: ['ashe', 'cassidy', 'widowmaker'] },
                { name: 'skewed', role: 'Support', country: 'KR', mostPlayedHeroes: ['zenyatta', 'ana', 'brigitte'] },
                { name: 'Viper', role: 'DPS', country: 'KR', mostPlayedHeroes: ['genji', 'tracer', 'mei'] },
                { name: 'ZEST', role: 'DPS', country: 'KR', mostPlayedHeroes: ['genji', 'tracer', 'pharah'] },
                { name: 'vigilante', role: 'Support', country: 'KR', mostPlayedHeroes: ['ana', 'zenyatta', 'baptiste'] },
                // Add more players
            ]
        },
        {
            id: 'tf',
            name: 'Team Falcons',
            logo: 'https://upload.wikimedia.org/wikipedia/en/thumb/4/4d/Team_Falcons_Logo.svg/1200px-Team_Falcons_Logo.svg.png',
            players: [
                { name: 'ChiYo', role: 'Support', country: 'KR', mostPlayedHeroes: ['lucio', 'mercy', 'brigitte'] },
                { name: 'Fielder', role: 'Support', country: 'KR', mostPlayedHeroes: ['baptiste', 'ana', 'kiriko'] },
                { name: 'Hanbin', role: 'Tank', country: 'KR', mostPlayedHeroes: ['sigma', 'zarya', 'junker-queen'] },
                { name: 'Proper', role: 'DPS', country: 'KR', mostPlayedHeroes: ['tracer', 'genji', 'sojourn'] },
                { name: 'Stalk3r', role: 'DPS', country: 'KR', mostPlayedHeroes: ['genji', 'tracer', 'echo'] },
                { name: 'MER1T', role: 'DPS', country: 'KR', mostPlayedHeroes: ['sojourn', 'widowmaker', 'ashe'] },
                { name: 'SOMEONE', role: 'Tank', country: 'KR', mostPlayedHeroes: ['reinhardt', 'winston', 'ramattra'] },
                // Add more players
            ]
        },
        {
            id: 'zd',
            name: 'ZETA DIVISION',
            logo: 'https://cdn.worldvectorlogo.com/logos/zeta-division-2.svg',
            players: [
                { name: 'Flora', role: 'DPS', country: 'KR', mostPlayedHeroes: ['cassidy', 'ashe', 'widowmaker'] },
                { name: 'Pelican', role: 'DPS', country: 'KR', mostPlayedHeroes: ['echo', 'genji', 'mei'] },
                { name: 'BERNAR', role: 'Tank', country: 'KR', mostPlayedHeroes: ['dva', 'zarya', 'sigma'] },
                { name: 'FARMER', role: 'Tank', country: 'KR', mostPlayedHeroes: ['winston'] },
                { name: 'FiNN', role: 'Support', country: 'KR', mostPlayedHeroes: ['zenyatta', 'ana', 'kiriko'] },
                { name: 'AlphaYi', role: 'Support', country: 'KR', mostPlayedHeroes: ['genji', 'tracer', 'echo'] },
                // Add more players
            ]
        },
        {
            id: 'vrl',
            name: 'VARREL',
            logo: 'https://varrel.jp/wp-content/uploads/2025/01/20230301_news_0.jpg',
            players: [
                { name: 'Nico', role: 'DPS', country: 'JP', mostPlayedHeroes: ['tracer', 'sojourn', 'genji'] },
                { name: 'qki', role: 'DPS', country: 'JP', mostPlayedHeroes: ['sombra', 'tracer', 'echo'] },
                { name: 'KSG', role: 'Tank', country: 'JP', mostPlayedHeroes: ['winston', 'doomfist', 'orisa'] },
                { name: 'Qloud', role: 'Support', country: 'JP', mostPlayedHeroes: ['baptiste', 'ana', 'kiriko'] },
                { name: 'Sley', role: 'Support', country: 'KR', mostPlayedHeroes: ['zenyatta', 'ana', 'baptiste'] },
                { name: 'Mimoza', role: 'Support', country: 'JP', mostPlayedHeroes: ['kirko', 'illari', 'lucio'] },
                // Add more players
            ]
        },
        {
            id: '99d',
            name: '99DIVINE',
            logo: 'https://cdn.escharts.com/uploads/public/674/572/baa/674572baad23e009099752.png',
            players: [
                { name: 'Ezhan', role: 'DPS', country: 'KR', mostPlayedHeroes: ['widowmaker', 'ashe', 'sojourn'] },
                { name: 'sgy', role: 'DPS', country: 'SG', mostPlayedHeroes: ['tracer', 'echo', 'junkrat'] },
                { name: 'HyVision', role: 'DPS', country: 'TH', mostPlayedHeroes: ['sojourn', 'ahse', 'cassidy'] },
                { name: 'PEPPI', role: 'Tank', country: 'KR', mostPlayedHeroes: ['sigma', 'dva', 'zarya'] },
                { name: 'PaLee', role: 'Support', country: 'TH', mostPlayedHeroes: ['ana', 'kiriko', 'lucio'] },
                { name: 'Ace', role: 'Support', country: 'TH', mostPlayedHeroes: ['genji', 'widomaker', 'kiriko'] },
                // Add more players
            ]
        },
        // Add more asia teams
    ],
};

// Language translations
const translations = {
    en: {
        search: "Search teams or players...",
        back: "Back to Teams",
        lightMode: "Light Mode",
        darkMode: "Dark Mode",
        // ... other translations
    },
    es: {
        search: "Buscar equipos o jugadores...",
        back: "Volver a Equipos",
        lightMode: "Modo Claro",
        darkMode: "Modo Oscuro",
        // ... other translations
    },
    kr: {
        search: "팀 또는 선수 검색...",
        back: "팀으로 돌아가기",
        lightMode: "라이트 모드",
        darkMode: "다크 모드",
        // ... other translations
    },
    cn: {
        search: "搜索队伍或选手...",
        back: "返回队伍",
        lightMode: "明亮模式",
        darkMode: "暗黑模式",
        // ... other translations
    }
};


let currentLanguage = 'en';
let currentRegion = 'na';

// Language selection handler
document.getElementById('languageSelect').addEventListener('change', function(e) {
    currentLanguage = e.target.value;
    hideLanguageModal();
    updateLanguage();
    localStorage.setItem('selectedLanguage', currentLanguage); // Save language preference
});


function updateLanguage() {
    document.querySelector('.search-bar').placeholder = translations[currentLanguage].search;
    updateLanguageDisplay();
}

const languageDisplayMap = {
    'en': 'EN',
    'es': 'ES',
    'kr': 'KR',
    'cn': 'CN'
};

function updateLanguageDisplay() {
    const displayElement = document.getElementById('currentLanguageDisplay');
    displayElement.textContent = languageDisplayMap[currentLanguage];
}

function setTheme(theme) {
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
}

function toggleTheme() {
    const currentTheme = localStorage.getItem('theme') || 'light';
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
    setTheme(newTheme);
}

function updateThemeIcon(theme) {
    const themeIcon = document.querySelector('.themeIcon');
    if (themeIcon) {
        themeIcon.textContent = theme === 'light' ? '🌙' : '☀️';
    }
}


// Region switching
document.querySelectorAll('.region-btn').forEach(button => {
    button.addEventListener('click', function() {
        currentRegion = this.dataset.region;
        document.querySelectorAll('.region-btn').forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        loadTeams(currentRegion);
    });
});

// Load teams for a specific region
function loadTeams(region) {
    const teamGrid = document.getElementById('teamGrid');
    const playerList = document.getElementById('playerList');
    
    teamGrid.style.display = 'grid';
    playerList.style.display = 'none';
    
    teamGrid.innerHTML = '';
    
    teamsData[region].forEach(team => {
        const teamCard = document.createElement('div');
        teamCard.className = 'team-card';
        teamCard.innerHTML = `
            <img src="${team.logo}" alt="${team.name}" style="width: 100px; height: 100px;">
            <h3>${team.name}</h3>
        `;
        teamCard.addEventListener('click', () => showTeamPlayers(team));
        teamGrid.appendChild(teamCard);
    });
}

// Show players for selected team
function showTeamPlayers(team) {
    const teamGrid = document.getElementById('teamGrid');
    const playerList = document.getElementById('playerList');
    const playersContainer = document.getElementById('playersContainer');
    const teamNameHeader = document.getElementById('teamNameHeader');
    
    teamGrid.style.display = 'none';
    playerList.style.display = 'block';
    teamNameHeader.textContent = team.name;
    
    playersContainer.innerHTML = '';
    team.players.forEach(player => {
        const playerCard = document.createElement('div');
        playerCard.className = 'player-card';
//flag URL using the API
        const flagUrl = player.country ? 
            `https://flagsapi.com/${player.country}/flat/64.png` : 
            '';
        
        playerCard.innerHTML = `
            <div class="player-header">
                ${flagUrl ? `<img src="${flagUrl}" alt="${player.country} flag" class="player-flag">` : ''}
                <h4>${player.name}</h4>
            </div>
            <p>Role: ${player.role}</p>
        `;
        playersContainer.appendChild(playerCard);
    });
}

// Search functionality
document.querySelector('.search-bar').addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    
    const results = [];
    Object.values(teamsData).forEach(region => {
        region.forEach(team => {
            if (team.name.toLowerCase().includes(searchTerm)) {
                results.push(team);
            }
            team.players.forEach(player => {
                if (player.name.toLowerCase().includes(searchTerm)) {
                    results.push({...player, team: team.name});
                }
            });
        });
    });
    
    displaySearchResults(results);
});

function displaySearchResults(results) {
    const teamGrid = document.getElementById('teamGrid');
    teamGrid.innerHTML = '';
    
    results.forEach(result => {
        const resultCard = document.createElement('div');
        resultCard.className = 'team-card';
        
        if (result.logo) { // It's a team
            resultCard.innerHTML = `
                <img src="${result.logo}" alt="${result.name}" style="width: 100px; height: 100px;">
                <h3>${result.name}</h3>
            `;
            resultCard.addEventListener('click', () => showTeamPlayers(result));
        } else { // It's a player
            const flagUrl = result.country ? 
                `https://flagsapi.com/${result.country}/flat/64.png` : 
                '';
            
            resultCard.innerHTML = `
                <div class="player-header">
                    ${flagUrl ? `<img src="${flagUrl}" alt="${result.country} flag" class="player-flag">` : ''}
                    <h4 class="player-name-link">${result.name}</h4>
                </div>
                <p>Team: ${result.team}</p>
                <p>Role: ${result.role}</p>
            `;
            
            // Add click event listener to the player name
            const playerNameLink = resultCard.querySelector('.player-name-link');
            playerNameLink.addEventListener('click', () => {
                // Find the player's team object
                const teamObj = Object.values(teamsData)
                    .flat()
                    .find(team => team.name === result.team);
                showPlayerInfo(result, teamObj);
            });
        }
        
        teamGrid.appendChild(resultCard);
    });
}


function backToTeams() {
    document.getElementById('playerList').style.display = 'none';
    document.getElementById('teamGrid').style.display = 'grid';
    loadTeams(currentRegion);
}


function showPlayerInfo(player, team) {
    const teamGrid = document.getElementById('teamGrid');
    const playerList = document.getElementById('playerList');
    const playerInfoPage = document.getElementById('playerInfoPage');
    const playerInfoName = document.getElementById('playerInfoName');
    
    // Hide other views
    teamGrid.style.display = 'none';
    playerList.style.display = 'none';
    playerInfoPage.style.display = 'block';
    
    // Create flag URL
    const flagUrl = player.country ? 
        `https://flagsapi.com/${player.country}/flat/64.png` : 
        '';
    
    // Update player info content
    const playerFlagName = playerInfoPage.querySelector('.player-flag-name');
    const playerDetails = playerInfoPage.querySelector('.player-details');
    const statsGrid = playerInfoPage.querySelector('.stats-grid');
    
    playerInfoName.textContent = player.name;
    
    playerFlagName.innerHTML = `
        ${flagUrl ? `<img src="${flagUrl}" alt="${player.country} flag">` : ''}
        <h2>${player.name}</h2>
    `;
    
    playerDetails.innerHTML = `
        <div class="detail-item">
            <strong>Role:</strong> ${player.role}
        </div>
        <div class="detail-item">
            <strong>Team:</strong> ${team.name}
        </div>
        <div class="detail-item">
            <strong>Country:</strong> ${player.country}
        </div>
    `;
    
statsGrid.innerHTML = `
        <div class="stat-item">
            <h4>Most Played Heroes</h4>
            <div class="hero-portraits" id="heroPortraits">
                Loading hero portraits...
            </div>
        </div>
    `;

    // If the player has most played heroes defined
    if (player.mostPlayedHeroes && player.mostPlayedHeroes.length > 0) {
        const heroPortraitsDiv = document.getElementById('heroPortraits');
        heroPortraitsDiv.innerHTML = '';

        // Fetch and display portraits for each hero
        player.mostPlayedHeroes.forEach(async (heroName) => {
            const portraitUrl = await fetchHeroPortrait(heroName);
            if (portraitUrl) {
                const heroDiv = document.createElement('div');
                heroDiv.className = 'hero-portrait';
                heroDiv.innerHTML = `
                    <img src="${portraitUrl}" alt="${heroName}" title="${heroName}">
                    <span class="hero-name">${heroName}</span>
                `;
                heroPortraitsDiv.appendChild(heroDiv);
            }
        });
    }
}

function backToRoster() {
    document.getElementById('playerInfoPage').style.display = 'none';
    document.getElementById('playerList').style.display = 'block';
}

// makes player names clickable
function displayPlayers(players, container, team) {
    container.innerHTML = '';
    players.forEach(player => {
        const playerCard = document.createElement('div');
        playerCard.className = 'player-card';
        
        const flagUrl = player.country ? 
            `https://flagsapi.com/${player.country}/flat/64.png` : 
            '';
        
        playerCard.innerHTML = `
            <div class="player-header">
                ${flagUrl ? `<img src="${flagUrl}" alt="${player.country} flag" class="player-flag">` : ''}
                <h4 class="player-name-link">${player.name}</h4>
            </div>
            <p>Role: ${player.role}</p>
            <p>Country: ${player.country}</p>
        `;
        
        const playerNameLink = playerCard.querySelector('.player-name-link');
        playerNameLink.style.cursor = 'pointer';
        playerNameLink.style.color = 'var(--button-background)';
        playerNameLink.addEventListener('click', () => showPlayerInfo(player, team));
        
        container.appendChild(playerCard);
    });
}

// showTeamPlayers function to pass the team to displayPlayers
function showTeamPlayers(team) {
    const teamGrid = document.getElementById('teamGrid');
    const playerList = document.getElementById('playerList');
    const playersContainer = document.getElementById('playersContainer');
    const teamNameHeader = document.getElementById('teamNameHeader');
    
    teamGrid.style.display = 'none';
    playerList.style.display = 'block';
    
    displayPlayers(team.players, playersContainer, team);
}

async function fetchHeroPortrait(heroName) {
    try {
        const response = await fetch(`https://overfast-api.tekrop.fr/heroes/${heroName.toLowerCase()}`);
        const data = await response.json();
        return data.portrait;
    } catch (error) {
        console.error('Error fetching hero portrait:', error);
        return null;
    }
}

// Page navigation
document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();
        
        // Remove active class from all links
        document.querySelectorAll('.nav-link').forEach(l => {
            l.classList.remove('active');
        });
        
        // Add active class to clicked link
        e.target.classList.add('active');
        
        // Hide all pages
        document.querySelectorAll('.page-section').forEach(page => {
            page.style.display = 'none';
        });
        
        // Show target page
        const targetId = e.target.getAttribute('href').substring(1);
        document.getElementById(targetId).style.display = 'block';
        
        // If showing stats page, initialize chart
        if (targetId === 'stats') {
            initializeChart();
        }
    });
});

// Basic chart initialization
function initializeChart() {
    const ctx = document.getElementById('heroPickRateChart').getContext('2d');
    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Tracer', 'Genji', 'Winston', 'Ana', 'Lucio', 'D.Va'],
            datasets: [{
                label: 'Occurrence (%)',
                data: [65, 55, 48, 45, 42, 38],
                backgroundColor: 'rgba(247, 103, 0, 0.5)',
                borderColor: 'rgba(247, 103, 0, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100
                }
            }
        }
    });
}


window.onload = function() {
    // Load saved theme preference
    const savedTheme = localStorage.getItem('theme') || 'light';
    setTheme(savedTheme);

    // Load saved language preference
    const savedLanguage = localStorage.getItem('selectedLanguage');
    if (savedLanguage) {
        currentLanguage = savedLanguage;
        updateLanguage();
    }

    // Show modals regardless of first visit
    showLanguageModal();
    
    // Add event listener for language modal confirmation
    document.querySelector('#languageModal button').addEventListener('click', function() {
        hideLanguageModal();
        showHelp(); // Show help modal after language selection
    });

    // Initialize with NA region
    loadTeams('na');
};


</script>

<style>
.player-name-link {
    color: var(--button-background);
    cursor: pointer;
    transition: color 0.3s;
}

.player-name-link:hover {
    color: #d55600;
    text-decoration: underline;
}

.detail-item {
    padding: 0.5rem;
    background-color: var(--background-color);
    border-radius: 4px;
}

.stat-item {
    text-align: center;
    padding: 1rem;
    background-color: var(--background-color);
    border-radius: 4px;
}

.stat-item h4 {
    margin-bottom: 0.5rem;
    color: var(--button-background);
}

.player-list {
    padding: 2rem;
}

.player-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;
}

.player-flag {
    width: 24px;
    height: 16px;
    object-fit: cover;
    border-radius: 2px;
}


.players-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.player-card {
    border: 1px solid #ccc;
    padding: 1rem;
    border-radius: 8px;
}

.team-card img {
    display: block;
    margin: 0 auto;
    object-fit: contain;
}

.team-card h3 {
    text-align: center;
    margin-top: 1rem;
}

.hero-portraits {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 1rem;
}

.hero-portrait {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.hero-portrait img {
    width: 64px;
    height: 64px;
    border-radius: 8px;
    object-fit: cover;
}

.hero-name {
    font-size: 0.9rem;
    text-transform: capitalize;
}

/* Enhanced Team Cards */
.team-card {
    transition: transform 0.3s, box-shadow 0.3s;
    position: relative;
    overflow: hidden;
}

.team-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.team-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--button-background);
    transform: scaleX(0);
    transition: transform 0.3s;
}

.team-card:hover::before {
    transform: scaleX(1);
}

/* Enhanced Player Cards */
.player-card {
    transition: all 0.3s;
    position: relative;
    background: var(--card-background);
}

.player-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
</style>
